/* ========================================================================= */
/* ARQUIVO PRINCIPAL: styles.css                                             */
/* Importa todos os módulos do Design System e Componentes                   */
/* ========================================================================= */

@import url('base/_reset.css');
@import url('base/_variables.css');

@import url('layouts/_grid.css');
@import url('layouts/_layout.css');

@import url('components/_buttons.css');
@import url('components/_navigation.css');
@import url('components/_forms.css');
@import url('components/_cards.css');

@import url('utilities/_helpers.css');

/* ----------------------------------- */
/* 5. Feedback de Validação (JS) */
/* ----------------------------------- */


.input-error {
    border: 2px solid var(--color-danger, #dc3545) !important; /* Cor de erro */
    background-color: var(--color-light-danger, #ffebeb); /* Fundo suave */
}

.error-message {
    display: none; /* Escondido por padrão, mostrado pelo JS */
    color: var(--color-danger, #dc3545);
    font-size: 0.85rem;
    margin-top: -10px; /* Alinha a mensagem logo abaixo do campo */
    margin-bottom: var(--spacing-2);
    padding-left: 5px;
}

/* ========================================================================= */
/* CORREÇÃO DE LAYOUT DOS GRÁFICOS (transparencia.html) */
/* Resolve o problema de sobreposição/alinhamento lateral */
/* ========================================================================= */

#relatorios-impacto h2,
#relatorios-impacto p {
    /* Garante que o texto ocupe toda a largura e force o próximo elemento para a linha de baixo */
    display: block; 
    width: 100%;
    text-align: center;
}

.chart-figure {
    /* CRÍTICO: Garante que cada gráfico comece em uma nova linha */
    display: block; 
    clear: both; /* ESSENCIAL: Anula qualquer flutuação de elementos anteriores (float) */
    
    /* Centralização Horizontal */
    margin: 30px auto; 
    
    /* Garante que o figure tenha apenas a largura do canvas, permitindo a centralização */
    width: fit-content; 
    max-width: 100%; 
    
    /* Centraliza a legenda (figcaption) */
    text-align: center; 
}

.chart-figure canvas {
    display: block; 
    margin: 0 auto; 
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); 
    border-radius: 4px;
}

/* ========================================================================= */
/* MÓDULO DE ACESSIBILIDADE WCAG 2.1 - Alto Contraste / Modo Escuro         */
/* ========================================================================= */

/* 1. Modo Escuro (Preferência do Usuário) */
/* Garante que o contraste seja mantido em um tema escuro */
@media (prefers-color-scheme: dark) {
    :root {
        /* Inverte as cores primárias */
        --color-background-primary: #121212; /* Fundo Escuro */
        --color-text-primary: #f0f0f0;       /* Texto Claro */
        --color-highlight-bg: #1e1e1e;       /* Fundo de elementos (cards, formulários) */
        --color-border: #333;
    }
    
    header, footer {
        background-color: var(--color-highlight-bg);
        border-bottom: 1px solid var(--color-border);
    }

    /* Garante contraste em links */
    a:link, a:visited {
        color: #8ab4f8; /* Azul claro com bom contraste no fundo escuro */
    }
}

/* 2. Classe para Alto Contraste Forçado (Opcional, ativada por um botão JS) */
/* WCAG Alto Contraste forçado: Fundo preto, texto branco, bordas amarelas. */
.alto-contraste {
    /* Regras mais rígidas para garantir o máximo de contraste */
    filter: none !important; /* Anula qualquer filtro */
    background-color: black !important;
    color: white !important;
}

.alto-contraste :is(h1, h2, h3, h4, p, a, label, figcaption) {
    color: white !important;
    background-color: black !important;
}

.alto-contraste button, 
.alto-contraste input[type="submit"], 
.alto-contraste .button-principal {
    background-color: yellow !important;
    color: black !important;
    border: 2px solid yellow !important;
}